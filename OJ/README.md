### USTC 2021秋《算法基础》 OJ实验题目

#### HW2

**HW2-1**	期望线性SELECT

**HW2-2**	随机快排

---

#### EXP1

**E1-1**	【计数】首先输入一个正整数T，代表存在T组样例。接下来共T组样例，每组样例中首先输入N，下一行N个正整数。在每组样例中你需要找到是否存在一个“超过一半的数”x（即存在x在这N个数中出现次数≥(N+1)/2，若存在这样的x请输出x，否则输出-1。

**E1-2**	【随机快排】首先输入两个正整数N和T，接下来输入一串只包含数字且长度为N的字符串，你需要将字符串按T分隔开并删除T，将剩余字符串认为数字，并将数字进行从小到大排序后输出。在字符串转换为数字的过程中，需要去除前导0。若字符串全为0则视作0。

**E1-3**	【归并排序】输入一个长度为N的数组，你需要求出数组中逆序对的数量，答案对10,000,007取模。逆序对即对于数组A，满足i<j，$A_i>A_j$的(i,j)对。

**E1-4**	【滑动窗口】现有n个学生排成一个固定队伍进行军训，教官小明有一份所有n个人的名单（不同的人可能重名）。小明想要在整个队伍中找到一个连续的子队伍，并且满足该子队的所有人恰好有k个不重复的名字。请帮小明计算一下一共有多少种可能的子队伍。

**E1-EX**	在T组数组中，对于每个数组，仅求对该数组从小到大排序后index为K−1的数（index从0开始）如K=3对数组3 1 5 9，即求1 3 5 9中index为2的数，为5。

-----------

#### EXP2

**E2-1**	【红黑树】勤奋的小明为了预习下学期的数据库课程，决定亲自实现一个简单的数据库系统。该数据库系统需要处理用户的数据库插入和查询语句，并输出相应的输出。具体来说，用户的输入共包含若干条插入语句和查询语句。其中每条插入语句包含一个非负整数表示需要插入的数据。每条查询语句包含一个整数表示待查询的键值，若该键值存在则直接输出该键值，否则输出数据库中比该键值小的最大键值。

**E2-2**	【哈希表】勤奋的小明为了预习下学期的数据库课程，决定亲自实现一个简单的数据库系统。该数据库系统需要处理用户的数据库插入和查询语句，并输出相应的输出。具体来说，用户的输入共包含若干条插入语句和查询语句。其中每条插入语句包含一个主键（唯一标识）id和一个字符串$s_{id}$，表示在数据库中插入一个主键为id，属性值为$s_{id}$的条目。每条查询语句包含一个字符串k，表示在数据库总查询是否有条目属性值为k，若存在属性值为k的条目，则输出该条目对应的主键（输入保证至多有一个条目满足要求），否则输出一个-1表示不存在这样的条目。

**E2-3**	【区间树】C语言中需要申请一块连续的内存时需要使用`malloc`等函数。如果分配成功则返回指向被分配内存的指针(此存储区中的初始值不确定)，否则返回空指针`NULL`。

现在小明决定实现一个类似`malloc`的内存分配系统，具体来说，他需要连续处理若干申请内存的请求，这个请求用一个闭区间$[a_i,,b_i]$来表示。当这个区间和当前已被申请的内存产生重叠时，则返回内存分配失败的信息。否则返回内存分配成功，并将该区间标记为已被占用。

**E2-EX**	【并查集】现有若干危险品需要放置在$A$，$B$两个仓库。当两种特定的危险品放置在相同地点时即可能产生危险。我们用危险系数$\alpha_{i,j}$表示危险品$i$，$j$放置在一起的危险程度。一些危险品即使放置在一起也不会产生任何危险，此时$\alpha_{i,j}=0$，还有一些危险品即使单独放置也会产生危险，此时$\alpha_{i,i}>0$。

定义两个仓库整体的危险系数为$\max(\displaystyle \max_{i,j\in A}\alpha_{i,j},, \displaystyle \max_{i,j\in B}\alpha_{i,j})$，即放置在一起的所有危险品两两组合的危险系数的最大值。现在对于一组给定的危险系数，需要设计方案使得整体危险系数最小。

------------

#### EXP3

**E3-1**	【偏序关系】对于二维平面上的任意两点$A(x_1,y_1),,B(x_2,y_2)$，定义偏序关系≤，表示$x_1 ≤ x_2$且$y_1 ≤ y_2$。

现给定平面上的若干点，求最大的点的子集S使得集合中的任意两点之间均满足偏序关系≤，即对$\forall A,B \in S$，$A\leq B$或B ≤ A成立。只需要输出子集S的大小|S|。

**E3-2**	【石子合并】程序员小明需要将n个有序数组合并到一起，由于某种工程上的原因，小明只能使用一个系统函数Merge将两个相邻的数组合并为一个数组。Merge函数合并两个长度分别为$n_1, n_2$的数组的时间为$n_1 + n_2$。现给定n个数组的长度，小明需要求出最小需要的合并时间。

**E3-3**	【多重背包】现有一个背包可以容纳总重量为W的物品，有n种物品可以放入背包，其中每种物品单个重量为$w_i$，价值为$v_i$，可选数量为$num_i$。输出可以放入背包的物品的最大总价值。

**E3-EX**	【正方形计数】现有一个n × m的矩形区域，其中每个单位区域可能有损坏。要求找到地面上所有不包含损坏区域的正方形的个数。

------------------

#### EXP4

**E4-1**	【贪心算法】现有N个村庄排成一排，在这些村庄里需要挑选若干村庄搭建基站，其中基站的覆盖半径为R。假设在村庄i处放置基站，村庄i的坐标为$X_i$，则处在$[X_i - R, X_i + R]$范围内的村庄都能被该基站所覆盖。
在给出所有村庄坐标的情况下，求使所有村庄都能被基站覆盖所需要的最少的基站个数。

**E4-2**	【贪心算法】现有N个任务需要在一台机器上进行调度，其中每个任务有相应的到达时间$r_i$和执行时间$p_i$。任务必须在到达之后才能进行执行，该机器同时只能执行一个任务。当一个任务在机器上执行$p_i$时间后，该任务即视为完成。若该任务的完成时刻为$f_i$，则该任务的响应时间为$f_i - r_i + 1$。我们需要找到一个调度方案使所有任务的响应时间之和最短。需要说明的是，在这个问题里我们假设已经将时间划分为若干不可再分的时隙，即一个任务最少的执行时间为1个单位时间，且任务只会在整数时刻到达。
此外，调度是可抢占的，这意味着在任意时隙开始时可以通过挂起正在执行的任务i转而执行另一项任务j，随后可以恢复任务i并执行其剩余的工作。

**E4-3**	【贪心算法】现有一个长为N的数据访问序列和一块大小为K的缓存，请设计算法使数据访问的MISS次数最少。假设所有可能访问的数据在一个确定的范围内，这里用整数来表示存放数据的地址。假设无论是否命中，这次访问的数据都需要存放在缓存内。

**E4-EX**	【贪心算法】小明在一个很长的晾衣架上挂了N件等待被晾干的衣服，相邻的两件衣服之间若距离过近会影响衣服的晾干时间。例如，我们可以用相邻两件衣服的距离的最小值来衡量全部衣服晾干的速度。现在小明选择将其中的M件衣服撤走，以使得剩余的衣服可以更快晾干。给定N件衣服在晾衣架上的位置，请设计算法使得撤走M件衣服后相邻衣服距离的最小值最大。

------

#### EXP5

**E5-1**	【最小生成树】沙漠上，新建了N座城市，用1,2,3,...,N表示，城市与城市之间还没有道路，现在需要建设这些城市的道路网络，需要在城市间修建道路。施工队给出了M条道路的预计费用信息，每条道路的预计费用信息可以表示为$U_i$  $V_i$ $W_i$（即如果要在$U_i$和$V_i$之间修建道路，预计费用为$W_i$），道路是双向的。现从M条道路中选择一定数量的道路来修建，使得这些城市之间两两之间可达（可以通过其他城市间接到达），你需要求出达成上述条件的最少预算。

**E5-2**	【单源最短路径】小明被困在一个迷宫之中，迷宫中共有N个点，标号分别为1,2,3,...,N，且迷宫只有一个出口。N个点之间互相有一些道路连通（单向），两个点之间可能有多条道路连通，但是并不存在一条两端都是同一个点的道路。小明希望知道从当前位置S去往出口T的最短距离是多少。如果不存在去往出口的道路，输出-1。

**E5-3**	【最大流】在一个工厂货物运输系统中共有N个节点，编号为1,2,3,...,N，节点之间有传送带（单向）连接，每个传送带都有使用寿命，传送带的寿命为一个数字L，表示在传送完L个单位的货物后，传送带就会破损无法使用。现在需要从节点S向节点T传送货物，求在当前传输系统中，最多可以顺利传输多少单位的货物从节点S到节点T。

**E5-EX**	【最大单向连通子图】在一张有向图$G$中，你需要找出节点数最多的一个节点集合$S$，使得$S$中的任意两个节点$A\ B$至少满足“$A$可达$B$”或者“$B$可达$A$”中的一个。如果$A$到$B$有连边，$B$到$C$有连边，那么我们认为$C$对$A$是可达的，即$A$可达$C$。

